# Errordon Environment Configuration
# Copy to .env.production and fill in values

# Federation
LOCAL_DOMAIN=errordon.example.com
SINGLE_USER_MODE=false

# PostgreSQL
DB_HOST=db
DB_PORT=5432
DB_NAME=mastodon_production
DB_USER=mastodon
DB_PASS=

# Redis
REDIS_HOST=redis
REDIS_PORT=6379

# Secrets (generate with: rake secret)
SECRET_KEY_BASE=
OTP_SECRET=

# Web Push VAPID keys (generate with: rake mastodon:webpush:generate_vapid_key)
VAPID_PRIVATE_KEY=
VAPID_PUBLIC_KEY=

# Email (SMTP)
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_LOGIN=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=notifications@errordon.example.com

# Object Storage (optional, recommended for media)
S3_ENABLED=false
# S3_BUCKET=your-bucket
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# S3_REGION=eu-central-1
# S3_PROTOCOL=https
# S3_HOSTNAME=s3.eu-central-1.amazonaws.com

# === ERRORDON CUSTOM SETTINGS ===

# Upload Limits (in bytes)
MAX_VIDEO_SIZE=262144000
MAX_AUDIO_SIZE=262144000
MAX_IMAGE_SIZE=16777216

# Privacy Defaults (inspired by chaos.social)
ERRORDON_DEFAULT_PRIVACY=unlisted
ERRORDON_DEFAULT_NOINDEX=true
ERRORDON_DEFAULT_LOCKED=false
ERRORDON_DISABLE_SEARCH_FEDERATION=true
ERRORDON_PROXY_REMOTE_MEDIA=true
ERRORDON_IP_RETENTION_DAYS=7
ERRORDON_SESSION_RETENTION_DAYS=30
ERRORDON_DISABLE_TELEMETRY=true
ERRORDON_STRICT_RATE_LIMITS=true

# Transcoding (when implemented)
# ERRORDON_TRANSCODE_ENABLED=true
# ERRORDON_TRANSCODE_720P=true
# ERRORDON_TRANSCODE_480P=true
